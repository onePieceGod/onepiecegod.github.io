# [什么是Nginx？](https://www.cnblogs.com/wcwnina/p/8728391.html)
>是一个高性能的HTTP和反向代理服务器，同时也是一个IMAP/POP3/SMTP 代理服务器。Nginx可以作为一个HTTP服务器进行网站的发布处理，另外Nginx可以作为反向代理进行负载均衡的实现。   
>>1. Nginx使用基于事件驱动架构，使得其可以支持数以百万级别的TCP连接  
2. 高度的模块化和自由软件许可证使得第三方模块层出不穷（这是个开源的时代啊~）  
3. Nginx是一个跨平台服务器，可以运行在Linux，Windows，FreeBSD，Solaris，AIX，Mac OS等操作系统上   
4. 极大的稳定性   

## 正向代理
> 翻墙就是一个正向代理，比如我想访问谷歌，但是干访问时访问不了的，所以我们应该找一台能够访问谷歌网站的服务器进行代理。当我发送请求谷歌时，会先到达这个代理服务器中，代理服务器再去访问谷歌网址，得到数据后再传给客户端，这样客户就能访问谷歌网址了。正向代理最大的特点是客户端非常明确要访问的服务器地址；服务器只清楚请求来自哪个代理服务器，而不清楚来自哪个具体的客户端；**正向代理模式屏蔽或者隐藏了真实客户端信息。**
> ![](https://img2018.cnblogs.com/blog/1202586/201812/1202586-20181211123717325-1261206014.png)

>**正向代理的用途：**  
1. **访问原来无法访问的资源**，如Google  
2. **可以做缓存，加速访问资源**  
3. **对客户端访问授权，上网进行认证**   
4. **代理可以记录用户访问记录（上网行为管理），对外隐藏用户信息**     

## 反向代理
> 假设一个视频网站有各种各样的资源，资源可以按类进行划分，比如动作，喜剧，恐怖等类别。假设每种类别都分布在不同的服务器上。每时每刻都有很多很多的人进行访问服务器，所以Nginx服务器可以充当反向代理的角色，张三需要观看动作类电影，点击后发送请求到代理服务器上，代理服务器进行判断应该发送给有动作电影的服务器上，这样可以减轻服务器的负担(如果都在一台服务器上肯定服务器不好受)，起到负载均衡的作用。多个客户端给服务器发送的请求，Nginx服务器接收到之后，按照一定的规则分发给了后端的业务处理服务器进行处理了。此时~请求的来源也就是客户端是明确的，但是请求具体由哪台服务器处理的并不明确了，Nginx扮演的就是一个反向代理角色。客户端是无感知代理的存在的，反向代理对外都是透明的，访问者并不知道自己访问的是一个代理。因为客户端不需要任何配置就可以访问。
**反向代理，"它代理的是服务端，代服务端接收请求"，主要用于服务器集群分布式部署的情况下，反向代理隐藏了服务器的信息。**
> ![](https://images2018.cnblogs.com/blog/1202586/201804/1202586-20180406175939873-925019958.png)
>**反向代理的作用：**
1. **保证内网的安全，通常将反向代理作为公网访问地址，Web服务器是内网**   
2. **负载均衡，通过反向代理服务器来优化网站的负载**   

### 正向代理与反向代理一块
![](https://images2018.cnblogs.com/blog/1202586/201804/1202586-20180406180130452-1246060303.png)   
### 正向代理与反向代理的区别   
>**在正向代理中，Proxy和Client同属于一个LAN（图中方框内），隐藏了客户端信息；  
在反向代理中，Proxy和Server同属于一个LAN（图中方框内），隐藏了服务端信息；  
实际上，Proxy在两种代理中做的事情都是替服务器代为收发请求和响应，不过从结构上看正好左右互换了一下，所以把后出现的那种代理方式称为反向代理了。**
![](https://img2018.cnblogs.com/blog/1202586/201812/1202586-20181211122806997-940664368.png)    
## 负载均衡
&nbsp;&nbsp;负载均衡就是由于客户的访问数量越来越大导致如果只有一个服务器来处理肯定吃不消，所以可以使用Nginx服务器充当反向代理，对客户发送的请求根据一定的算法分配到不同的服务器上去处理以减轻服务器的负担。
>客户端发送的、Nginx反向代理服务器接收到的请求数量，就是我们说的**负载量**。  
请求数量按照一定的规则进行分发到不同的服务器处理的规则，就是一种**均衡规则**。    
将服务器接收到的请求按照规则分发的过程，称为**负载均衡**。  
**负载均衡在实际项目操作过程中，有硬件负载均衡和软件负载均衡两种，硬件负载均衡也称为硬负载，如F5负载均衡，相对造价昂贵成本较高，但是数据的稳定性安全性等等有非常好的保障，如中国移动中国联通这样的公司才会选择硬负载进行操作；更多的公司考虑到成本原因，会选择使用软件负载均衡，软件负载均衡是利用现有的技术结合主机硬件实现的一种消息队列分发机制。**
![](https://images2018.cnblogs.com/blog/1202586/201804/1202586-20180406180405961-333776342.png)
